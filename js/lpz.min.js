function indexTimer(){var t=document.getElementsByClassName("timer_lpz");for(let e of t)timer(e)}function graphic(t){let e=t.getContext("2d"),a=t.height,l=t.width,i=JSON.parse(t.dataset.json),n=null!=t.dataset.title?t.dataset.title:"",r=null!=t.dataset.color?t.dataset.color:"blue",s=[];i.forEach(function(t){s.push(t.value)});let o=Math.max(...s);e.beginPath(),e.strokeStyle="black",e.moveTo(25,10),e.lineTo(25,a-15),e.lineTo(l,a-15),e.stroke(),e.beginPath(),e.font="10px Arial",e.fillText(o,0,20),e.beginPath(),e.font="10px Arial",e.fillText(o/2,0,(a-15)/2),e.beginPath(),e.font="10px Arial",e.fillText(0,0,a-15),e.beginPath(),e.fillText(n,30,20);let c=25,f=25,h=a-15-(i[0].value*(a-15)/o-15),d=null!=t.dataset.sep?t.dataset.sep:"55";i.forEach(function(t){let l=a-15-(t.value*(a-15)/o-15);e.beginPath(),e.fillStyle=r,e.arc(c,l,3,0,2*Math.PI,!0),e.fill(),e.beginPath(),e.strokeStyle=r,e.moveTo(f,h),e.lineTo(c,l),e.stroke(),e.beginPath(),e.fillStyle="black",e.font="10px Arial",e.fillText(t.name,c,a),f=c,h=l,c+=parseInt(d)})}function circle(t){let e=t.getContext("2d"),a=JSON.parse(t.dataset.json),l=null!=t.dataset.title?t.dataset.title:"";var i=0;a.forEach(function(t){i+=parseInt(t.value)});let n=0,r=0,s=1;a.forEach(function(a){let l=100*a.value/i;r+=2*l/100*Math.PI,e.beginPath(),e.moveTo(t.width/2.5,t.height/2.5),e.fillStyle=a.color,e.arc(t.width/2.5,t.height/2.5,t.width/2.5,n,r,!1),e.fill(),e.save(),n=r,e.beginPath(),e.fillRect(t.width-65,12*s-9,10,10),e.fillStyle="black",e.font="10px Arial",e.fillText(a.name,t.width-50,0+12*s),e.restore(),s++}),e.beginPath(),e.fillStyle="black",e.font="10px Arial",e.fillText(l,0,t.height-20)}function graphicBar(t){let e=t.getContext("2d"),a=t.width,l=t.height,i=null!=t.dataset.title?t.dataset.title:"";e.fillStyle="black",e.font="10px Arial",e.fillText(i,10,10),e.beginPath(),e.moveTo(0,0),e.lineTo(0,l-15),e.lineTo(a,l-15),e.stroke();let n=JSON.parse(t.dataset.json),r=[];n.forEach(function(t){r.push(t.value)});let s=null!=t.dataset.sep?parseInt(t.dataset.sep):10,o=Math.max(...r),c=(a-s*(n.length+1))/n.length,f=null!=t.dataset.min?t.dataset.min:20,h=null!=t.dataset.max?t.dataset.max:30;f>c?c=parseInt(f):h<c&&(c=parseInt(h));let d=s,g=null!=t.dataset.color?t.dataset.color:"blue",u=null!=t.dataset.valcol?t.dataset.valcol:"white";n.forEach(function(t){let a=t.value*(l-15)/o;e.fillStyle=g,e.fillRect(d,l-15-a,c,a),e.fillStyle="black",e.font="10px Arial",e.fillText(t.name.substring(0,6),d,l-5),e.save(),e.fillStyle=u,e.font="10px Arial",e.textAlign="center",e.fillText(t.value,d+c/2,l-a),e.restore(),d=d+c+s})}function progressCircle(t,e,a){let l=t.getContext("2d"),i=t.height,n=t.width,r=t.dataset.text,s=t.dataset.percent,o=null!=t.dataset.color?t.dataset.color:"blue",c=null!=t.dataset.font?t.dataset.font:"10px Arial",f=null!=t.dataset.bulk?t.dataset.bulk:"5",h=null!=t.dataset.mostrate?t.dataset.mostrate:"0";switch(l.beginPath(),l.lineWidth=f,l.strokeStyle=o,l.arc(n/2,(i+parseInt(f)-10)/2,(n-15)/2,0,s*e/100*Math.PI,a),l.stroke(),h){case"0":r+=" "+s+"%";break;case"1":r=s+"%";break;case"2":break;case"3":r="";break;default:r+=" "+s+"%",console.error("data-mostrate is incorrect. The default value is 0. The value must be 0, 1, 2, 3")}l.beginPath(),l.font=c,l.textAlign="center",l.textBaseline="middle",l.fillText(r,n/2,i/2)}function progressBar(t){let e=t.getContext("2d"),a=t.height,l=t.width,i=t.dataset.text,n=t.dataset.percent,r=null!=t.dataset.color?t.dataset.color:"cyan",s=null!=t.dataset.ctext?t.dataset.ctext:"black",o=null!=t.dataset.cpercent?t.dataset.cpercent:"black",c=null!=t.dataset.font?t.dataset.font:"10px Arial";e.moveTo(0,0),e.beginPath(),e.rect(0,0,l,a),e.stroke(),e.beginPath(),e.fillStyle=r,e.fillRect(0,0,l*(n/100),a),e.beginPath(),e.font=c,e.textBaseline="middle",e.fillStyle=s,e.fillText(i,10,a/2),e.beginPath(),e.fillStyle=o,e.fillText(n+"%",l-30,a/2)}function timer(t){cvx=t.getContext("2d");let e=t.width,a=t.height,l=t.dataset.font,i=t.dataset.format,n=Date.parse(t.dataset.time)-Date.now(),r=Math.floor(n/1e3),s=Math.floor(r/60);r%=60;let o=Math.floor(s/60);if(s%=60,"0"==i){var c=Math.floor(o/24);o%=24}r=r.toString().length>=2?r:"0"+r.toString(),s=s.toString().length>=2?s:"0"+s.toString(),o=o.toString().length>=2?o:"0"+o.toString(),cvx.clearRect(0,0,e,a);let f="";switch(i){case"0":f=c+" days "+o+":"+s+":"+r;break;case"1":f=o+":"+s+":"+r;break;default:f=c+" days "+o+":"+s+":"+r}cvx.beginPath(),cvx.font=null!=l?l:"10px Arial",cvx.textBaseline="middle",cvx.textAlign="center",cvx.fillText(f,e/2,a/2)}!function(){var t=document.getElementsByTagName("canvas");for(let e of t)switch(e.className){case"graphic_bar_lpz":graphicBar(e);break;case"circle_lpz":circle(e);break;case"graphic_lpz":graphic(e);break;case"progress_bar_lpz":progressBar(e);break;case"progress_circle_lpz":progressCircle(e,2,!1);break;case"progress_half_circle_lpz":progressCircle(e,-1,!0);break;case"timer_lpz":timer(e),setInterval(indexTimer,1e3)}}();