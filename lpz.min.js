/*
*
* AUTHOR: José Antonio López López
* GITHUB: https://github.com/JoseAntonioLpz
* REPOSITORY: https://github.com/JoseAntonioLpz/lpzJS
* LICENSE: MIT
* 
*/
function indexTimer(){var t=document.getElementsByClassName("timer_lpz");for(let e of t)timer(e)}function graphic(t){let e=t.getContext("2d"),a=t.height,l=t.width;e.clearRect(0,0,l,a);let o=JSON.parse(t.dataset.json),n=null!=t.dataset.title?t.dataset.title:"",s=null!=t.dataset.color?t.dataset.color:"blue",i=[];o.forEach(function(t){i.push(t.value)});let r=Math.max(...i);e.beginPath(),e.strokeStyle="black",e.moveTo(25,10),e.lineTo(25,a-15),e.lineTo(l,a-15),e.stroke(),e.beginPath(),e.font="10px Arial",e.fillText(r,0,20),e.beginPath(),e.font="10px Arial",e.fillText(r/2,0,(a-15)/2),e.beginPath(),e.font="10px Arial",e.fillText(0,0,a-15),e.beginPath(),e.fillText(n,30,20);let c=25,d=25,u=a-15-(o[0].value*(a-15)/r-15),g=null!=t.dataset.sep?t.dataset.sep:"55";o.forEach(function(t){let l=a-15-(t.value*(a-15)/r-15);e.beginPath(),e.fillStyle=s,e.arc(c,l,3,0,2*Math.PI,!0),e.fill(),e.beginPath(),e.strokeStyle=s,e.moveTo(d,u),e.lineTo(c,l),e.stroke(),e.beginPath(),e.fillStyle="black",e.font="10px Arial",e.fillText(t.name,c,a),d=c,u=l,c+=parseInt(g)})}function circle(t){let e=t.getContext("2d"),a=t.height,l=t.width;e.clearRect(0,0,l,a);let o=JSON.parse(t.dataset.json),n=null!=t.dataset.title?t.dataset.title:"";var s=0;o.forEach(function(t){s+=parseInt(t.value)});let i=0,r=0,c=1;o.forEach(function(t){let o=100*t.value/s;r+=2*o/100*Math.PI,e.beginPath(),e.moveTo(l/2.5,a/2.5),e.fillStyle=t.color,e.arc(l/2.5,a/2.5,l/2.5,i,r,!1),e.fill(),e.save(),i=r,e.beginPath(),e.fillRect(l-65,12*c-9,10,10),e.fillStyle="black",e.font="10px Arial",e.fillText(t.name,l-50,0+12*c),e.restore(),c++}),e.beginPath(),e.fillStyle="black",e.font="10px Arial",e.fillText(n,0,a-20)}function graphicBar(t){let e=t.getContext("2d"),a=t.width,l=t.height;e.clearRect(0,0,a,l);let o=null!=t.dataset.title?t.dataset.title:"";e.fillStyle="black",e.font="10px Arial",e.fillText(o,10,10),e.beginPath(),e.moveTo(0,0),e.lineTo(0,l-15),e.lineTo(a,l-15),e.stroke();let n=JSON.parse(t.dataset.json),s=[];n.forEach(function(t){s.push(t.value)});let i=null!=t.dataset.sep?parseInt(t.dataset.sep):10,r=Math.max(...s),c=(a-i*(n.length+1))/n.length,d=null!=t.dataset.min?t.dataset.min:20,u=null!=t.dataset.max?t.dataset.max:30;d>c?c=parseInt(d):u<c&&(c=parseInt(u));let g=i,p=null!=t.dataset.color?t.dataset.color:"blue",h=null!=t.dataset.valcol?t.dataset.valcol:"white";n.forEach(function(t){let a=t.value*(l-15)/r;e.fillStyle=p,e.fillRect(g,l-15-a,c,a),e.fillStyle="black",e.font="10px Arial",e.fillText(t.name.substring(0,6),g,l-5),e.save(),e.fillStyle=h,e.font="10px Arial",e.textAlign="center",e.fillText(t.value,g+c/2,l-a),e.restore(),g=g+c+i})}function progressCircle(t,e,a){let l=t.getContext("2d"),o=t.height,n=t.width,s=t.dataset.text,i=t.dataset.percent,r=null!=t.dataset.color?t.dataset.color:"blue",c=null!=t.dataset.font?t.dataset.font:"10px Arial",d=null!=t.dataset.bulk?t.dataset.bulk:"5",u=null!=t.dataset.mostrate?t.dataset.mostrate:"0";switch(l.beginPath(),l.lineWidth=d,l.strokeStyle=r,l.arc(n/2,(o+parseInt(d)-10)/2,(n-15)/2,0,i*e/100*Math.PI,a),l.stroke(),u){case"0":s+=" "+i+"%";break;case"1":s=i+"%";break;case"2":break;case"3":s="";break;default:s+=" "+i+"%",console.error("data-mostrate is incorrect. The default value is 0. The value must be 0, 1, 2, 3")}l.beginPath(),l.font=c,l.textAlign="center",l.fillStyle=null!=t.dataset.cfont?t.dataset.cfont:"black",l.textBaseline="middle",l.fillText(s,n/2,o/2)}function progressBar(t){let e=t.getContext("2d"),a=t.height,l=t.width,o=t.dataset.text,n=t.dataset.percent,s=null!=t.dataset.color?t.dataset.color:"cyan",i=null!=t.dataset.ctext?t.dataset.ctext:"black",r=null!=t.dataset.cpercent?t.dataset.cpercent:"black",c=null!=t.dataset.font?t.dataset.font:"10px Arial";e.moveTo(0,0),e.beginPath(),e.rect(0,0,l,a),e.stroke(),e.beginPath(),e.fillStyle=s,e.fillRect(0,0,l*(n/100),a),e.beginPath(),e.font=c,e.textBaseline="middle",e.fillStyle=i,e.fillText(o,10,a/2),e.beginPath(),e.fillStyle=r,e.fillText(n+"%",l-30,a/2)}function timer(t){cvx=t.getContext("2d");let e=t.width,a=t.height,l=t.dataset.font,o=t.dataset.format,n=Date.parse(t.dataset.time)-Date.now(),s=Math.floor(n/1e3),i=Math.floor(s/60);s%=60;let r=Math.floor(i/60);if(i%=60,"0"==o){var c=Math.floor(r/24);r%=24}s=s.toString().length>=2?s:"0"+s.toString(),i=i.toString().length>=2?i:"0"+i.toString(),r=r.toString().length>=2?r:"0"+r.toString(),cvx.clearRect(0,0,e,a);let d="";switch(o){case"0":d=c+" days "+r+":"+i+":"+s;break;case"1":d=r+":"+i+":"+s;break;default:d=c+" days "+r+":"+i+":"+s}cvx.beginPath(),cvx.font=null!=l?l:"10px Arial",cvx.textBaseline="middle",cvx.textAlign="center",cvx.fillText(d,e/2,a/2)}function latNav(t){t.style.width=null!=t.dataset.width?t.dataset.width:.75*screen.width+"px",t.style.height=screen.height+"px",t.style.margin="0",t.style.border="1px solid black",t.style.position="fixed",t.style.left=-1*screen.width+"px",t.style.top="0px",t.style.backgroundColor=null!=t.dataset.cnav?t.dataset.cnav:"white",t.style.boxShadow="0 8px 16px 0 rgba(0,0,0,0.2)";var e=document.getElementsByClassName("logo_lpz");for(let t of e)t.style.backgroundColor=null!=t.dataset.clogo?t.dataset.clogo:"white",t.style.width="100%",t.style.height="150px",t.style.backgroundImage="url('"+t.dataset.img+"')",t.style.backgroundRepeat="no-repeat",t.style.backgroundPosition="center center",t.style.backgroundSize="cover";var a=document.getElementsByClassName("sup_lpz");for(let t of a)t.style.width="100%",t.style.height="auto",t.style.borderBottom="1px solid black";var l=document.getElementsByClassName("inf_lpz");for(let t of l)t.style.width="100%",t.style.height="auto";var o=t.getElementsByTagName("a");for(let e of o)e.style.display="block",e.style.height="40px",e.style.borderBottom="1px solid black",e.style.lineHeight="40px",e.style.paddingLeft=null!=t.dataset.sep?t.dataset.sep:"10px",e.style.textDecoration="none",e.style.color=null!=t.dataset.fcolor?t.dataset.fcolor:"blue",e.addEventListener("mouseover",function(){this.style.backgroundColor=null!=t.dataset.chover?t.dataset.chover:"white"}),e.addEventListener("mouseout",function(){this.style.backgroundColor=null!=t.dataset.cnav?t.dataset.cnav:"white"});var n=document.getElementById("close_lpz");n.style.backgroundImage="url('"+n.dataset.img+"')",n.style.backgroundRepeat="no-repeat",n.style.backgroundPosition="center center",n.style.backgroundSize="contain",n.style.width=null!=n.dataset.width?n.dataset.width:"50px",n.style.height=null!=n.dataset.height?n.dataset.height:"50px",n.addEventListener("click",function(){var e=0,a=setInterval(function(){e=openAnimation(t,e,-1*screen.width,a,!1)},1);e=openAnimation(t,e,-1*screen.width,a,!1)});var s=document.getElementById("open_lpz");s.style.backgroundImage="url('"+s.dataset.img+"')",s.style.backgroundRepeat="no-repeat",s.style.backgroundPosition="center center",s.style.backgroundSize="contain",s.style.width=null!=s.dataset.width?s.dataset.width:"50px",s.style.height=null!=s.dataset.height?s.dataset.height:"50px",s.addEventListener("click",function(){var e=-1*screen.width,a=setInterval(function(){e=openAnimation(t,e,0,a,!0)},1);e=openAnimation(t,e,0,a,!0)})}function openAnimation(t,e,a,l,o){return e+=o?35:-20,o&&e>=a||!o&&e<=a?(t.style.left=a+"px",clearInterval(l)):t.style.left=e+"px",e}function topBut(t){t.style.width=null!=t.dataset.width?t.dataset.width:"50px",t.style.height=null!=t.dataset.width?t.dataset.width:"50px",t.style.backgroundColor=t.dataset.color?t.dataset.color:"orange",t.style.position="fixed",t.style.bottom=null!=t.dataset.posy?t.dataset.posy:"20px",t.style.right=null!=t.dataset.posx?t.dataset.posx:"20px",t.style.borderRadius="50%",t.style.boxShadow="0 8px 16px 0 rgba(0,0,0,0.2)",t.style.backgroundImage="url('"+t.dataset.img+"')",t.style.backgroundRepeat="no-repeat",t.style.backgroundPosition="center center",t.style.backgroundSize="contain",t.addEventListener("click",function(){var e=window.scrollY,a=null!=t.dataset.vel?t.dataset.vel:150,l=setInterval(function(){e=scrollTopAnimate(e,l,a)},1);e=scrollTopAnimate(e,l,a)})}function scrollTopAnimate(t,e,a){return(t-=a)<=0?(document.body.scrollTop=0,document.documentElement.scrollTop=0,clearInterval(e)):(document.body.scrollTop=t,document.documentElement.scrollTop=t),t}function multiBut(t){t.style.width=null!=t.dataset.width?t.dataset.width:"50px",t.style.height=null!=t.dataset.width?t.dataset.width:"50px",t.style.backgroundColor=t.dataset.color?t.dataset.color:"orange",t.style.position="fixed",t.style.bottom=null!=t.dataset.posy?t.dataset.posy:"20px",t.style.right=null!=t.dataset.posx?t.dataset.posx:"20px",t.style.borderRadius="50%",t.style.boxShadow="0 8px 16px 0 rgba(0,0,0,0.2)",t.style.backgroundImage="url('"+t.dataset.img+"')",t.style.backgroundRepeat="no-repeat",t.style.backgroundPosition="center center",t.style.backgroundSize="contain",t.dataset.click=!0;var e=t.getElementsByTagName("a"),l=60;for(a of e)a.style.position="absolute",a.style.bottom="-100px",a.style.right="5px",a.style.display="block",a.style.width="40px",a.style.height="40px",a.style.borderRadius="50%",a.style.backgroundColor=t.dataset.color?t.dataset.color:"orange",a.style.boxShadow="0 8px 16px 0 rgba(0,0,0,0.2)",a.dataset.pos=l,l+=50,a.style.backgroundImage="url('"+a.dataset.img+"')",a.style.backgroundRepeat="no-repeat",a.style.backgroundPosition="center center",a.style.backgroundSize="contain";t.addEventListener("click",function(){if(console.log("click"),"true"==t.dataset.click)for(a of(t.dataset.click="false",e))a.style.bottom=a.dataset.pos+"px";else for(a of(t.dataset.click="true",e))a.style.bottom="-100px"})}!function(){var t=document.getElementsByTagName("canvas");for(let e of t)switch(e.className){case"graphic_bar_lpz":graphicBar(e);break;case"circle_lpz":circle(e);break;case"graphic_lpz":graphic(e);break;case"progress_bar_lpz":progressBar(e);break;case"progress_circle_lpz":progressCircle(e,2,!1);break;case"progress_half_circle_lpz":progressCircle(e,-1,!0);break;case"timer_lpz":timer(e),setInterval(indexTimer,1e3)}var e=document.getElementById("nav_lpz");e&&latNav(e);var a=document.getElementById("top_but_lpz");a&&topBut(a);var l=document.getElementById("multi_but_lpz");l&&multiBut(l)}();